// This File is imported last, and will override other styles in the cascade
// Add styles here to make changes without digging in too much

/* 
-------------------------------------------------------------------------
Author: Vladi Gleba
Website: vladigleba.com
Date: October 2013

This layout is based on the following modular scale:

20px @ 1:1.618
62px @ 1:1.618

See http://modularscale.com/scale/?px1=20&px2=62&ra1=1.618&ra2=0
for the numbers in this scale. All font-size, line-height, margin, and 
padding values are derived from these numbers.

See http://alistapart.com/article/more-meaningful-typography
to learn about modular scales.

-------------------------------------------------------------------------
*/ 


// ------------------------------
// variables
// ------------------------------

$accent-color: #70a665; 
$accent-hover-color: darken($accent-color, 8%);

$text-color: #333;
$secondary-text-color: #aaa;

$line-color: #e6e6e6;

$border-radius-size: 4px;


/*
general styles
------------------------------ */

html { 
  border-top: 10px solid $accent-color;
  font: 125%/1 "PT Serif", Georgia, Times, "Times New Roman", serif; 
}

body { 
  -webkit-text-size-adjust: none; /* prevent mobile safari from resizing text */
  background-color: #fff;
  color: $text-color;
  text-align: center; 
  width: 55%;
  margin: 0 auto; 
}

a { 
  color: $accent-color; 
  outline: none;
  @include transition(color 0.3s ease 0s);
  
  &:hover {
    color: $accent-hover-color; 
  }
}

#main { 
  clear: both; 
}

.pagination { 
  border-bottom: 2px dotted $text-color;
  padding: 23.683px 0;
  padding: 1.184rem 0;
  margin-bottom: 38.319px;
  margin-bottom: 1.916rem;
  font-weight: bold;
}

blockquote {
  font-style: italic;
}

p > code {
  font-size: 17.56px;
  font-size: 0.878rem; /* 0.732 + 0.146 */
  background-color: #eee;
  padding: 0 4.722px;
  padding: 0 0.234rem;
}

cite { 
  font-style: italic; 
}

figure.code figcaption { 
  text-align: right; 
}


/*
shared styles
------------------------------ */

.subscription, 
.mobile-nav, 
#search_results article > a,
body section h1,
aside { 
  display: none; 
}

h1 a,
li a,
footer > a,
p.meta a.basic-alignment,
.pagination a {
  text-decoration: none;
}

h1, h2, h3, h4, h5, h6 { 
  text-rendering: optimizeLegibility; 
}

nav, 
.entry-content > pre, 
figure.code,
article footer > p.meta {
  overflow: auto;
}

article footer > p.meta:first-child,
nav form input.search,
body > footer p,
.entry-content > pre,
figure.code {
  font-size: 14.637px;
  font-size: 0.732rem;
}

#blog-archives time, 
#blog-archives footer,
article footer > a {
  font-size: 16.773px;
  font-size: 0.839rem; /* 0.732 + 0.107 */
}

article header p.meta,
nav ul li {
  font-size: 19.359px;
  font-size: 0.968rem; /* 0.732 + 0.236 */
}

body > header h2,
article .entry-content h2 {
  font-size: 28.405px;
  font-size: 1.42rem;
}

article .entry-content h1,
#blog-archives article h1 {
  font-size: 38.319px;
  font-size: 1.916rem;
}

article header, 
article p,
article footer > p.meta:first-child,
figure.code,
.entry-content > pre { 
  margin-bottom: 32.360px;
  margin-bottom: 1.618rem; 
}

body > footer,
#blog-archives article {
  margin-bottom: 52.358px;
  margin-bottom: 2.618rem;
}

article,
section {
  margin-bottom: 62.000px;
  margin-bottom: 4.236rem;
}


pre,
blockquote {
  padding: 1px 20px;
  padding: 1px 1rem;
}

#blog-archives time:after,
article header p.meta > span:before, 
article header p.meta > span:after, 
article footer > p.meta:first-child time:after, 
article footer > p.meta:first-child span.author:after {
  content: "â€¢";
}

pre, 
code, 
figure.code {
  font-family: Menlo, Monaco, "Andale Mono", "Lucida Console", "Courier New", monospace;
}

h1, h2, h3, h4, h5, h6,
article header p.meta, 
#blog-archives h2 { 
  font-family: "Fjalla One", "Helvetica Neue", Arial, sans-serif; 
}

article > footer > p.meta, 
body > header h2, 
body > footer p, 
article header p.meta, 
nav ul li, 
.pagination,
#blog-archives time, 
#blog-archives footer { 
  font-family: "Open Sans", "Helvetica Neue", Arial, sans-serif; 
}


/*
blog structure
------------------------------ */

body {
  
  /* blog header  */ 
  
  > header {
    margin: 84.715px 0 52.358px 0;
    margin: 4.236rem 0 2.618rem 0;
  
    h1 { 
      font-size: 62.000px;
      font-size: 3.1rem;
      font-weight: bold;
      text-transform: uppercase;
      margin-bottom: 7.640px;
      margin-bottom: 0.382rem;
    
      a, a:hover { 
        color: $text-color; 
      }
    }
  
    h2 { 
      color: $secondary-text-color;
    }
  }
  
  /* blog content */

  .blog-index > article {
    margin-bottom: 137.069px;
    margin-bottom: 6.853rem; /* for home page post preview */
  }
  
  /* blog footer */ 
  
  > footer {
    clear: both;
    
    p {
      color: $secondary-text-color; 
      line-height: 20px;
      line-height: 1rem;
    }
  }
}


/*
navigation
------------------------------ */

nav {
  border-top: 2px dotted $text-color;
  padding: 14.637px 0;
  padding: 0.732rem 0;
  margin-bottom: 84.715px;
  margin-bottom: 4.236rem;
  
  /* search form */ 
  
  form { 
    float: right; 
    
    input.search { 
      border: none;
      background-color: #f2f2f2;
      padding: 9.046px 14.637px;
      padding: 0.452rem 0.732rem;
      border-radius: $border-radius-size;
    }
  }
  
  /* navigation links */
  
  ul { 
    float: left;
    margin-top: 9.03333px;
    margin-top: 0.45rem; /* rounded */
    
    li { 
      display: inline; 
      font-weight: bold;
    }
    
    li + li { 
      padding-left: 32.360px;
      padding-left: 1.618rem;
    }
  }
}


/*
archives page
------------------------------ */

#blog-archives {
  margin-bottom: 100.316px;
  margin-bottom: 5.016rem;
  
  h2 {
    font-size: 38.319px;
    font-size: 1.916rem;
    color: $secondary-text-color;
  }
  
  article {
    margin-left: 79px;
    margin-left: 3.95rem; /* not from scale */
    
    h1 {
      line-height: 38.319px;
      line-height: 1.916rem;
      margin: 0;
    }
  }
  
  time, footer { 
    color: $secondary-text-color;
    display: inline;
  }
  
  time:after {
    padding: 0 6px 0 10px;
    padding: 0 0.3rem 0 0.5rem; /* not from scale */
  }
}


/*
search results page
------------------------------ */

#search_results {
  article {
    margin-left: 0;
    margin-top: 20px;
    margin-top: 1rem;
    
    p {
      margin-top: 14.637px;
      margin-top: 0.732rem;
    }
    
    time:after {
      content: none;
    }
  }
}

/* 
blog post
------------------------------ */  

article { 
  text-align: left;
  
  /* ----- post's header ----- */
  
  header {    
    h1 {
      font-size: 45.959px;
      font-size: 2.298rem; /* 1.916 + 0.382 */
      margin-bottom: 3.456px;
      margin-bottom: 0.173rem;
      line-height: 50.58px;
      line-height: 2.534rem; /* 1.916 + 0.618 */
      
      a, a:hover {
        color: $text-color; 
      }
    }
    
    p.meta { 
      color: $secondary-text-color;
      
      > span:before, > span:after {
        padding: 0 4px;
        padding: 0 0.2rem; /* not from scale */
      }
    }
  }
  
  /* ----- post's content ----- */
  
  h1 { 
    margin-top: 62.000px;
    margin-top: 3.1rem;
    margin-bottom: 20px;
    margin-bottom: 1rem;
  }
  
  h2 {
    margin-top: 52.358px;
    margin-top: 2.618rem;
    margin-bottom: 9.046px;
    margin-bottom: 0.452rem;
  }
    
  p {
    line-height: 32.360px;
    line-height: 1.618rem;
  }
  
  /* ----- post's footer ----- */
  
  footer {
    padding-top: 12.361px;
    padding-top: 0.618rem;
    
    > p.meta {
      padding-bottom: 38.319px;
      padding-bottom: 1.916rem;
    
      &:first-child {
        padding-bottom: 14.637px;
        padding-bottom: 0.732rem;
        border-bottom: 2px dotted $text-color;
      
        time:after, span.author:after {
          padding: 0 6px 0 10px;
          padding: 0 0.3rem 0 0.5rem; /* not from scale */
        }
      }
    }
    
    a.basic-alignment { 
      width: 45%; 
      display: block; 
      line-height: 23.683px;
      line-height: 1.184rem;
      
      &.left {
        float: left;
      }
      
      &.right {
        float: right;
        text-align: right;
      }
    }
    
    /* 'read on' button */
    
    > a { 
      @include transition(all 0.3s ease 0s);
      background-color: $accent-color; 
      color: #fff;
      border-radius: $border-radius-size;
      padding: 7.640px 14.637px;
      padding: 0.382rem 0.732rem;
      
      &:hover {
        background-color: $accent-hover-color; 
        color: #fff;         
      }
    }
  }
}


/*
media queries
------------------------------ */    

@media screen and (max-width: 1200px) {
  body {
    width: 75%;
  }
}

/* ------------------------------ */

@media screen and (max-width: 900px) {
  body {
    width: 90%;
  }
}  

/* ------------------------------ */

@media screen and (max-width: 750px) {
  html {
    font-size: 106%;
  }
  
  
  body {
    > header {
      margin: 52.358px 0;
      margin: 2.618rem 0;
    }
  }
  
  
  nav {
    border-top: none;
    margin-bottom: 52.358px;
    margin-bottom: 2.618rem;
    
    ul {
      border-top: 2px solid #808080;
      border-bottom: 1px solid $line-color;
      padding: 20px 0;
      padding: 1rem 0;
    }
    
    ul, form {
      width: 100%;
      margin: 0 auto;
    }
    
    form {
      margin-bottom: 23.683px;
      margin-bottom: 1.184rem;
      
      input.search { 
        padding-top: 9.046px;
        padding-top: 0.452rem;
        padding-bottom: 9.046px;
        padding-bottom: 0.452rem;
        font-size: 18.093px;
        font-size: 0.905em; /* 0.732 + 0.173 */
        width: 50%;
      }
    }
  }
}

/* ------------------------------ */

@media screen and (max-width: 480px) {
  body > header { 
    margin: 38.319px 0;
    margin: 1.916rem 0; 
    
    h1 { 
      font-size: 43.92px;
      font-size: 2.196rem; /* 1.916 + 0.236 */
    }
  
    h2 { 
      font-size: 18.093px;
      font-size: 0.905rem; /* 0.732 + 0.173 */
    }
  }
  
  
  nav {
    margin-bottom: 38.319px;
    margin-bottom: 1.916rem;
    
    ul {
      padding: 14.637px 0;
      padding: 0.732rem 0;
      
      li {
        font-weight: normal;
      }
      
      li + li {
        padding-left: 20px;
        padding-left: 1rem;
      }
    }
    
    form {
      margin-bottom: 20px;
      margin-bottom: 1rem;
      
      input.search { 
        width: 70%; 
      }
    }
  }
  
  #blog-archives article {
    margin-left: 0;
  }
  
  .blog-index > article {
    margin-bottom: 93.76px !important;
    margin-bottom: 5.016rem !important; /* 4.236 + 0.452 */
  }
  
  article {
    header {
      h1 { 
        font-size: 38.319px;
        font-size: 1.916rem; 
        line-height: 43.92px;
        line-height: 2.196rem; /* 1.916 + 0.28 */
      }
      
      p.meta {
        line-height: 23.683px;
        line-height: 1.618rem;
      }
    }
    
    footer > p.meta { 
      font-size: 19.359px;
      font-size: 0.968rem; /* 0.732 + 0.236 */
    }
    
    .entry-content h1 {
      font-size: 31.32px;
      font-size: 1.566rem; /* 1.184 + 0.382 */
      line-height: 38.319px;
      line-height: 1.916rem;
    }
  }
}